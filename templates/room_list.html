<!-- templates/room_list.html -->
{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
    
    <!-- === SEZIONE SUPERIORE === -->
    <div class="md:flex md:items-center md:justify-between mb-6">
        <div class="flex-1 min-w-0">
            <h1 class="text-3xl font-bold text-gray-900">
                Camere per {{ active_hotel.name }}
            </h1>
        </div>
        
        <!-- NUOVO Contenitore per il Form/Pulsante -->
        <!-- Questo div sarà il nostro bersaglio dinamico -->
        <div id="form-container" class="mt-4 flex md:mt-0 md:ml-4">
            <!-- Il pulsante iniziale che carica il form -->
            <button hx-get="{% url 'create_room_form' %}"
                    hx-target="#form-container"
                    hx-swap="innerHTML"
                    class="bg-indigo-600 text-white py-2 px-4 rounded-md shadow-sm hover:bg-indigo-700">
                Aggiungi Camera
            </button>
        </div>
    </div>

    <!-- Contenitore per la lista delle camere (sarà il nostro bersaglio per futuri aggiornamenti) -->
    <div id="room-list-container" class="space-y-4">
        
<div id="room-list-container" class="space-y-4">
    {% for room in rooms %}
        <!-- Includiamo il partial per ogni camera -->
        {% include 'partials/room_card.html' %}
    {% empty %}
        <!-- Messaggio mostrato se non ci sono camere -->
        <div id="no-rooms-message" class="bg-white text-center p-8 rounded-lg shadow-md">
            <p class="text-gray-500">Non ci sono ancora camere registrate per questo hotel.</p>
        </div>
    {% endfor %}
</div>
    </div>

</div>
{% endblock %}